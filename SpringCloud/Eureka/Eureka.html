<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Cloud Eureka：服务注册与发现 | 阿利桑</title>
    <meta name="description" content="阿利桑 ALiSang-Mr 维基百科">
    <link rel="icon" href="/ALiSang-Mr.github.io/img/ali.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/ALiSang-Mr.github.io/assets/css/0.styles.21febb6e.css" as="style"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/app.4e173ec1.js" as="script"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/2.728c3c36.js" as="script"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/3.8de677dd.js" as="script"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/10.413d4a8a.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/11.5e13bb02.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/12.035f891d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/13.8678ab9d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/14.fd2682c5.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/15.79f7b2c6.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/16.dd7c3f73.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/17.4bd9133c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/18.174b2afc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/19.ef453d35.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/20.b9397fbc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/21.88cbfa3d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/22.190fbae8.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/23.255be8dc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/24.d5ac6014.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/25.04a88ef4.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/26.919b3652.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/27.3fb2ecc8.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/28.b1412aff.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/29.51715fbe.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/30.334f2054.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/31.511d09e4.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/32.fa64cb71.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/33.0f6bccdd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/34.cc5ab0f1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/35.fcadeb75.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/36.a6a7d1b1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/37.bb32a6af.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/38.830b348b.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/39.7a9225b7.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/4.40fbd1a3.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/40.7791cfe5.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/41.22b49eb6.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/42.edb08334.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/43.a6753e0a.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/44.993dbcdc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/45.beea6627.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/46.30a8f03f.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/47.498642cd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/48.cb8a97dd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/49.f0ddc014.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/5.eee2d428.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/50.0362f335.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/51.b7d271b1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/52.eb24d36d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/53.7d012477.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/54.aa35e33b.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/55.0262d957.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/56.cc65acd7.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/57.6caae4af.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/58.25fc968c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/59.ccacedc9.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/6.79dab355.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/60.a4b4a20c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/7.80eef07c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/8.d45d7c5e.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/9.118c7b84.js">
    <link rel="stylesheet" href="/ALiSang-Mr.github.io/assets/css/0.styles.21febb6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ALiSang-Mr.github.io/" class="home-link router-link-active"><!----> <span class="site-name">阿利桑</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ALiSang-Mr.github.io/FAQ/" class="nav-link">求索</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Store/" class="nav-link">仓库</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Thought/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Concat" class="dropdown-title"><span class="title">Concat</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/mulander" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/oop.html" class="nav-link">Java 面向对象基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/base.html" class="nav-link">Java 基础知识体系</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/Thread.html" class="nav-link">Java 并发线程基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/ExecutorPool.html" class="nav-link">Java 并发线程池</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Eureka/Eureka.html" class="nav-link router-link-exact-active router-link-active">Eureka 服务注册中心</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Ribbon/Ribbon.html" class="nav-link">Ribbon 负载均衡的服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Hystrix/Hystrix.html" class="nav-link">Hystrix 服务容错保护</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/OpenFeign/OpenFeign.html" class="nav-link">OpenFeign 基于Ribbon和Hystrix的声明式服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Zuul/Zuul.html" class="nav-link">Zuul API网关服务</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Config/Config.html" class="nav-link">Config 外部集中化配置管理</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Bus/Bus.html" class="nav-link">Bus 消息总线</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Deploy.html" class="nav-link">Linux 部署</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Log.html" class="nav-link">Linux 日志命令</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ALiSang-Mr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub首页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/island/code/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Island
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/timeWaster/demo/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TimeWaster
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ALiSang-Mr.github.io/FAQ/" class="nav-link">求索</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Store/" class="nav-link">仓库</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Thought/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Concat" class="dropdown-title"><span class="title">Concat</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/mulander" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/oop.html" class="nav-link">Java 面向对象基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/base.html" class="nav-link">Java 基础知识体系</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/Thread.html" class="nav-link">Java 并发线程基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/ExecutorPool.html" class="nav-link">Java 并发线程池</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Eureka/Eureka.html" class="nav-link router-link-exact-active router-link-active">Eureka 服务注册中心</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Ribbon/Ribbon.html" class="nav-link">Ribbon 负载均衡的服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Hystrix/Hystrix.html" class="nav-link">Hystrix 服务容错保护</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/OpenFeign/OpenFeign.html" class="nav-link">OpenFeign 基于Ribbon和Hystrix的声明式服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Zuul/Zuul.html" class="nav-link">Zuul API网关服务</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Config/Config.html" class="nav-link">Config 外部集中化配置管理</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Bus/Bus.html" class="nav-link">Bus 消息总线</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Deploy.html" class="nav-link">Linux 部署</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Log.html" class="nav-link">Linux 日志命令</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ALiSang-Mr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub首页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/island/code/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Island
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/timeWaster/demo/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TimeWaster
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Eureka 服务注册中心</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ALiSang-Mr.github.io/SpringCloud/Eureka/Eureka.html" class="active sidebar-link">Eureka 服务注册中心</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ribbon 负载均衡的服务调用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hystrix 服务容错保护</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OpenFeign 基于Ribbon和Hystrix的声明式服务调用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Zuul API网关服务</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Config 外部集中化配置管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bus 消息总线</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-cloud-eureka：服务注册与发现"><a href="#spring-cloud-eureka：服务注册与发现" class="header-anchor">#</a> Spring Cloud Eureka：服务注册与发现</h1> <p></p><div class="table-of-contents"><ul><li><a href="#摘要">摘要</a></li><li><a href="#eureka简介">Eureka简介</a></li><li><a href="#搭建eureka注册中心">搭建Eureka注册中心</a><ul><li><a href="#使用idea来创建springcloud应用">使用IDEA来创建SpringCloud应用</a></li><li><a href="#使用idea的run-dashboard来运行springcloud应用">使用IDEA的Run Dashboard来运行SpringCloud应用</a></li></ul></li><li><a href="#搭建eureka客户端">搭建Eureka客户端</a></li><li><a href="#搭建eureka注册中心集群">搭建Eureka注册中心集群</a><ul><li><a href="#搭建两个注册中心">搭建两个注册中心</a></li><li><a href="#运行eureka注册中心集群">运行Eureka注册中心集群</a></li></ul></li><li><a href="#给eureka注册中心添加认证">给Eureka注册中心添加认证</a><ul><li><a href="#创建一个eureka-security-server模块，在pom-xml中添加以下依赖">创建一个eureka-security-server模块，在pom.xml中添加以下依赖</a></li><li><a href="#添加application-yml配置文件">添加application.yml配置文件</a></li><li><a href="#添加java配置websecurityconfig">添加Java配置WebSecurityConfig</a></li><li><a href="#运行eureka-security-server，访问http-localhost-8004发现需要登录认证">运行eureka-security-server，访问http://localhost:8004发现需要登录认证</a></li><li><a href="#eureka-client注册到有登录认证的注册中心">eureka-client注册到有登录认证的注册中心</a></li></ul></li><li><a href="#eureka的常用配置">Eureka的常用配置</a></li><li><a href="#使用到的模块">使用到的模块</a></li></ul></div><p></p> <h2 id="摘要"><a href="#摘要" class="header-anchor">#</a> 摘要</h2> <p>Spring Cloud Eureka是Spring Cloud Netflix 子项目的核心组件之一，主要用于微服务架构中的服务治理。
本文将对搭建Eureka注册中心，搭建Eureka客户端，搭建Eureka集群及给Eureka注册中心添加登录认证进行介绍。</p> <h2 id="eureka简介"><a href="#eureka简介" class="header-anchor">#</a> Eureka简介</h2> <p>在微服务架构中往往会有一个注册中心，每个微服务都会向注册中心去注册自己的地址及端口信息，
注册中心维护着服务名称与服务实例的对应关系。每个微服务都会定时从注册中心获取服务列表，同时汇报自己的运行情况，
这样当有的服务需要调用其他服务时，就可以从自己获取到的服务列表中获取实例地址进行调用，Eureka实现了这套服务注册与发现机制。</p> <h2 id="搭建eureka注册中心"><a href="#搭建eureka注册中心" class="header-anchor">#</a> 搭建Eureka注册中心</h2> <h3 id="使用idea来创建springcloud应用"><a href="#使用idea来创建springcloud应用" class="header-anchor">#</a> 使用IDEA来创建SpringCloud应用</h3> <ul><li>创建一个eureka-server模块，并使用Spring Initializer初始化一个SpringBoot项目</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_001.ea2e7caa.png" alt="创建" title="初始化项目"></p> <ul><li>填写模块基本信息</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_002.5e4bb05b.jpg" alt="创建" title="初始化项目"></p> <ul><li><p>选择SpringCloud的EurekaServer服务注册中心组件进行创建</p></li> <li><p>创建完成后会发现pom.xml文件中已经有了eureka-server的依赖</p></li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>在启动类上添加@EnableEurekaServer注解来启用Euerka注册中心功能</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaServerApplication</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaServerApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>在配置文件application.yml中添加Eureka注册中心的配置</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001 </span><span class="token comment">#指定运行端口</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server <span class="token comment">#指定服务名称</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost <span class="token comment">#指定主机地址</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment">#指定是否要从注册中心获取服务（注册中心不需要开启）</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment">#指定是否要注册到注册中心（注册中心不需要开启）</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment">#关闭保护模式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="使用idea的run-dashboard来运行springcloud应用"><a href="#使用idea的run-dashboard来运行springcloud应用" class="header-anchor">#</a> 使用IDEA的Run Dashboard来运行SpringCloud应用</h3> <blockquote><p>此时服务已经创建完成，点击启动类的main方法就可以运行了。但是在微服务项目中我们会启动很多服务，为了便于管理，我们使用IDEA的Run Dashboard来启动。</p></blockquote> <ul><li>打开Run Dashboard，默认情况下，当IDEA检查到你的项目中有SpringBoot应用时，会提示你开启，如果你没开启，可以用以下方法开启。</li></ul> <p>先检查View-&gt;Tool windows 中有无Run Dashboard,若没有则</p> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_004.f18c221c.jpg" alt="Run Dashboard" title="Run Dashboard"></p> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_005.e6cacc92.png" alt="Run Dashboard" title="Run Dashboard"></p> <ul><li>运行SpringCloud应用</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_006.cba0130d.png" alt="Run Dashboard" title="运行"></p> <ul><li>运行完成后访问地址http://localhost:8001/可以看到Eureka注册中心的界面</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_007.eb1ceac1.png" alt="Eureka注册中心的界面" title="Eureka注册中心的界面"></p> <h2 id="搭建eureka客户端"><a href="#搭建eureka客户端" class="header-anchor">#</a> 搭建Eureka客户端</h2> <ul><li>新建一个eureka-client模块，并在pom.xml中添加如下依赖</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>在启动类上添加@EnableDiscoveryClient注解表明是一个Eureka客户端</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaClientApplication</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaClientApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>在配置文件application.yml中添加Eureka客户端的配置</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8101 </span><span class="token comment">#运行端口号</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>client <span class="token comment">#服务名称</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment">#注册到Eureka的注册中心</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment">#获取注册实例列表</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8001/eureka/ <span class="token comment">#配置注册中心地址</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>运行eureka-client</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_008.93b7c6a2.png" alt="运行eureka-client" title="运行eureka-client"></p> <ul><li>查看注册中心http://localhost:8001/发现Eureka客户端已经成功注册</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_009.7dc0aedb.png" alt="Eureka客户端" title="Eureka客户端"></p> <h2 id="搭建eureka注册中心集群"><a href="#搭建eureka注册中心集群" class="header-anchor">#</a> 搭建Eureka注册中心集群</h2> <h3 id="搭建两个注册中心"><a href="#搭建两个注册中心" class="header-anchor">#</a> 搭建两个注册中心</h3> <blockquote><p>由于所有服务都会注册到注册中心去，服务之间的调用都是通过从注册中心获取的服务列表来调用，注册中心一旦宕机，
所有服务调用都会出现问题。所以我们需要多个注册中心组成集群来提供服务，下面将搭建一个<strong>双节点的</strong>注册中心集群。</p></blockquote> <ul><li>给eureka-sever添加配置文件application-replica1.yml配置第一个注册中心</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8002</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> replica1
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//replica2<span class="token punctuation">:</span>8003/eureka/ <span class="token comment">#注册到另一个Eureka注册中心</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>给eureka-sever添加配置文件application-replica2.yml配置第二个注册中心</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8003</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> replica2
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//replica1<span class="token punctuation">:</span>8002/eureka/ <span class="token comment">#注册到另一个Eureka注册中心</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>这里我们通过两个注册中心互相注册，搭建了注册中心的双节点集群，由于defaultZone使用了域名，所以还需在本机的host文件中配置一下。</strong></p> <ul><li>修改本地host文件</li></ul> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>127.0.0.1 replica1
127.0.0.1 replica2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="运行eureka注册中心集群"><a href="#运行eureka注册中心集群" class="header-anchor">#</a> 运行Eureka注册中心集群</h3> <blockquote><p>在IDEA中我们可以通过使用不同的配置文件来启动同一个SpringBoot应用。</p></blockquote> <p>添加两个配置，分别以application-replica1.yml和application-replica2.yml来启动eureka-server</p> <blockquote><p>从原启动配置中复制一个出来</p></blockquote> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_010.cf2cec8b.png" alt="复制启动配置" title="复制启动配置"></p> <blockquote><p>配置启动的配置文件</p></blockquote> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_011.0a15ad74.png" alt="配置启动的配置文件" title="更改后缀,服务根据配置文件后缀区分加载"></p> <ul><li>启动两个eureka-server，访问其中一个注册中心http://replica1:8002/发现另一个已经成为其备份</li></ul> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_012.35ed93e5.png" alt="启动注册中心" title="启动注册中心"></p> <ul><li>修改Eureka-client，让其连接到集群</li></ul> <blockquote><p>添加eureka-client的配置文件application-replica.yml，让其同时注册到两个注册中心。</p></blockquote> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8102</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>client
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//replica1<span class="token punctuation">:</span>8002/eureka/<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//replica2<span class="token punctuation">:</span>8003/eureka/ <span class="token comment">#同时注册到两个注册中心</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>以该配置文件启动后访问任意一个注册中心节点都可以看到eureka-client</p></blockquote> <p><img src="/ALiSang-Mr.github.io/assets/img/eureka_013.575b36c0.png" alt="注册中心" title="注册中心"></p> <h2 id="给eureka注册中心添加认证"><a href="#给eureka注册中心添加认证" class="header-anchor">#</a> 给Eureka注册中心添加认证</h2> <h3 id="创建一个eureka-security-server模块，在pom-xml中添加以下依赖"><a href="#创建一个eureka-security-server模块，在pom-xml中添加以下依赖" class="header-anchor">#</a> 创建一个eureka-security-server模块，在pom.xml中添加以下依赖</h3> <blockquote><p>需要添加SpringSecurity模块。</p></blockquote> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>&lt;dependency<span class="token punctuation">&gt;</span>
    &lt;groupId<span class="token punctuation">&gt;</span>org.springframework.cloud&lt;/groupId<span class="token punctuation">&gt;</span>
    &lt;artifactId<span class="token punctuation">&gt;</span>spring<span class="token punctuation">-</span>cloud<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>netflix<span class="token punctuation">-</span>eureka<span class="token punctuation">-</span>server&lt;/artifactId<span class="token punctuation">&gt;</span>
&lt;/dependency<span class="token punctuation">&gt;</span>

&lt;dependency<span class="token punctuation">&gt;</span>
    &lt;groupId<span class="token punctuation">&gt;</span>org.springframework.boot&lt;/groupId<span class="token punctuation">&gt;</span>
    &lt;artifactId<span class="token punctuation">&gt;</span>spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>starter<span class="token punctuation">-</span>security&lt;/artifactId<span class="token punctuation">&gt;</span>
&lt;/dependency<span class="token punctuation">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="添加application-yml配置文件"><a href="#添加application-yml配置文件" class="header-anchor">#</a> 添加application.yml配置文件</h3> <blockquote><p>主要是配置了登录注册中心的用户名和密码</p></blockquote> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8004</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>security<span class="token punctuation">-</span>server
  <span class="token key atrule">security</span><span class="token punctuation">:</span> <span class="token comment">#配置SpringSecurity登录用户名和密码</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> macro
      <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="添加java配置websecurityconfig"><a href="#添加java配置websecurityconfig" class="header-anchor">#</a> 添加Java配置WebSecurityConfig</h3> <blockquote><p>默认情况下添加SpringSecurity依赖的应用每个请求都需要添加CSRF
token才能访问，Eureka客户端注册时并不会添加，所以需要配置/eureka/**路径不需要CSRF token。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ignoringAntMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/eureka/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>http<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="运行eureka-security-server，访问http-localhost-8004发现需要登录认证"><a href="#运行eureka-security-server，访问http-localhost-8004发现需要登录认证" class="header-anchor">#</a> 运行eureka-security-server，访问http://localhost:8004发现需要登录认证</h3> <p><img src="data:image/png;base64,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ngDgYVjVDsBSthA/LX72B5pbWaOTpXb9s7an7r7dR0OCvKXzF7R+x4U2r81+t0LZPwxVQlSodr3qp+zjdarp5a27o/sq9FytqsSD1QHAk9DjCcBCFUrdUansM5elvr0VE+WvqXf7asAt9frqiwo99duTWvVt+9c/+ttvlH7ishTUVxPus2lqbB/peIWe+sRu9ZcDADTjVVFRUW91EUBb7nr+K3n39re6DHRF/zZAX/6kr5T/je5aftbqatDN1dVU68ulQ6wuA/B49HgC6JZmRvWWTdLJYkInAHgKgieA7ic2TPOjekq1l5T9sdXFAAAasbgIQBcWpl1v+al3aY3++U2daiTZgn01fGAv2XrUKW9PqVK//d4fAgC4TgieALqwGv3zrJ/G9u+rIRGOU1fqVVV6QZv+T6le2HfJ6gIBAC4IngC6sAo99esKq4sAAHQQczwBAABgBMETAAAARhA8AQAAYATBEwAAAEYQPAEAAGAEwRMerYeXl8RDXQF4snrHzyoAV0XwhEfrf1tP1dfXWV0GALSpvr5O/W9jd0KgIwie8GhzEgPk51NrdRkA0CY/n1rNSQywugygSyB4wqPNuj9A9w7qrb49L6n+Sh3D7gA8Q71Uf6VOfXte0r2DemvW/QFWVwR0CV4VFRX8KofHe++TSq3PqtSZisu6Us8/WQDW6uHlpf639dScxABCJ9AJBE8AAAAYwVA7AAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMCI/w8FZjbCy7hi+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0xOFQxNzoyMjoyMSswODowMA8hWOkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMThUMTc6MjI6MjErMDg6MDB+fOBVAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADI5MzUc/5oAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANjcwpm57LwAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTc0MDY4OTQxk0Z9/gAAABJ0RVh0VGh1bWI6OlNpemUAODA0MEJCeUcP0gAAAEJ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL3RtcC9pbWFnZWxjL2ltZ3ZpZXcyXzdfMTU3NDA0NTk2NzMwMzM1NjZfNjVfWzBd1EsNBQAAAABJRU5ErkJggg==" alt="运行eureka-security-server" title="登录认证"></p> <h3 id="eureka-client注册到有登录认证的注册中心"><a href="#eureka-client注册到有登录认证的注册中心" class="header-anchor">#</a> eureka-client注册到有登录认证的注册中心</h3> <ul><li>配置文件中需要修改注册中心地址格式</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code>http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>password<span class="token punctuation">}</span>@$<span class="token punctuation">{</span>hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>port<span class="token punctuation">}</span>/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>添加application-security.yml配置文件，按格式修改用户名和密码</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8103</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>client
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//macro<span class="token punctuation">:</span>123456@localhost<span class="token punctuation">:</span>8004/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>以application-security.yml配置运行eureka-client，可以在注册中心界面看到eureka-client已经成功注册</li></ul> <p><img src="data:image/png;base64,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ngDgYVjVDsBSthA/LX72B5pbWaOTpXb9s7an7r7dR0OCvKXzF7R+x4U2r81+t0LZPwxVQlSodr3qp+zjdarp5a27o/sq9FytqsSD1QHAk9DjCcBCFUrdUansM5elvr0VE+WvqXf7asAt9frqiwo99duTWvVt+9c/+ttvlH7ishTUVxPus2lqbB/peIWe+sRu9ZcDADTjVVFRUW91EUBb7nr+K3n39re6DHRF/zZAX/6kr5T/je5aftbqatDN1dVU68ulQ6wuA/B49HgC6JZmRvWWTdLJYkInAHgKgieA7ic2TPOjekq1l5T9sdXFAAAasbgIQBcWpl1v+al3aY3++U2daiTZgn01fGAv2XrUKW9PqVK//d4fAgC4TgieALqwGv3zrJ/G9u+rIRGOU1fqVVV6QZv+T6le2HfJ6gIBAC4IngC6sAo99esKq4sAAHQQczwBAABgBMETAAAARhA8AQAAYATBEwAAAEYQPAEAAGAEwRMerYeXl8RDXQF4snrHzyoAV0XwhEfrf1tP1dfXWV0GALSpvr5O/W9jd0KgIwie8GhzEgPk51NrdRkA0CY/n1rNSQywugygSyB4wqPNuj9A9w7qrb49L6n+Sh3D7gA8Q71Uf6VOfXte0r2DemvW/QFWVwR0CV4VFRX8KofHe++TSq3PqtSZisu6Us8/WQDW6uHlpf639dScxABCJ9AJBE8AAAAYwVA7AAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMCI/w8FZjbCy7hi+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0xOFQxNzoyMjoyMSswODowMA8hWOkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMThUMTc6MjI6MjErMDg6MDB+fOBVAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADI5MzUc/5oAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANjcwpm57LwAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTc0MDY4OTQxk0Z9/gAAABJ0RVh0VGh1bWI6OlNpemUAODA0MEJCeUcP0gAAAEJ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL3RtcC9pbWFnZWxjL2ltZ3ZpZXcyXzdfMTU3NDA0NTk2NzMwMzM1NjZfNjVfWzBd1EsNBQAAAABJRU5ErkJggg==" alt="eureka-client成功注册" title="eureka-client成功注册"></p> <h2 id="eureka的常用配置"><a href="#eureka的常用配置" class="header-anchor">#</a> Eureka的常用配置</h2> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment">#eureka客户端配置</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment">#是否将自己注册到eureka服务端上去</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment">#是否获取eureka服务端上注册的服务列表</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8001/eureka/ <span class="token comment"># 指定注册中心地址</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># 启用eureka客户端</span>
    <span class="token key atrule">registry-fetch-interval-seconds</span><span class="token punctuation">:</span> <span class="token number">30 </span><span class="token comment">#定义去eureka服务端获取服务列表的时间间隔</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span> <span class="token comment">#eureka客户端实例配置</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">30 </span><span class="token comment">#定义服务多久去注册中心续约</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">90 </span><span class="token comment">#定义服务多久不去续约认为服务失效</span>
    <span class="token key atrule">metadata-map</span><span class="token punctuation">:</span>
      <span class="token key atrule">zone</span><span class="token punctuation">:</span> jiangsu <span class="token comment">#所在区域</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost <span class="token comment">#服务主机名称</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment">#是否优先使用ip来作为主机名</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span> <span class="token comment">#eureka服务端配置</span>
    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment">#关闭eureka服务端的保护机制</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="使用到的模块"><a href="#使用到的模块" class="header-anchor">#</a> 使用到的模块</h2> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>springcloud-learning
├── eureka-server -- eureka注册中心
├── eureka-security-server -- 带登录认证的eureka注册中心
└── eureka-client -- eureka客户端
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/ALiSang-Mr.github.io/SpringCloud/Ribbon/Ribbon.html">Ribbon 负载均衡的服务调用</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ALiSang-Mr.github.io/assets/js/app.4e173ec1.js" defer></script><script src="/ALiSang-Mr.github.io/assets/js/2.728c3c36.js" defer></script><script src="/ALiSang-Mr.github.io/assets/js/3.8de677dd.js" defer></script>
  </body>
</html>
