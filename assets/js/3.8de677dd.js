(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{108:function(a,t){a.exports="data:image/png;base64,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ngDgYVjVDsBSthA/LX72B5pbWaOTpXb9s7an7r7dR0OCvKXzF7R+x4U2r81+t0LZPwxVQlSodr3qp+zjdarp5a27o/sq9FytqsSD1QHAk9DjCcBCFUrdUansM5elvr0VE+WvqXf7asAt9frqiwo99duTWvVt+9c/+ttvlH7ishTUVxPus2lqbB/peIWe+sRu9ZcDADTjVVFRUW91EUBb7nr+K3n39re6DHRF/zZAX/6kr5T/je5aftbqatDN1dVU68ulQ6wuA/B49HgC6JZmRvWWTdLJYkInAHgKgieA7ic2TPOjekq1l5T9sdXFAAAasbgIQBcWpl1v+al3aY3++U2daiTZgn01fGAv2XrUKW9PqVK//d4fAgC4TgieALqwGv3zrJ/G9u+rIRGOU1fqVVV6QZv+T6le2HfJ6gIBAC4IngC6sAo99esKq4sAAHQQczwBAABgBMETAAAARhA8AQAAYATBEwAAAEYQPAEAAGAEwRMerYeXl8RDXQF4snrHzyoAV0XwhEfrf1tP1dfXWV0GALSpvr5O/W9jd0KgIwie8GhzEgPk51NrdRkA0CY/n1rNSQywugygSyB4wqPNuj9A9w7qrb49L6n+Sh3D7gA8Q71Uf6VOfXte0r2DemvW/QFWVwR0CV4VFRX8KofHe++TSq3PqtSZisu6Us8/WQDW6uHlpf639dScxABCJ9AJBE8AAAAYwVA7AAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMAIgicAAACMIHgCAADACIInAAAAjCB4AgAAwAiCJwAAAIwgeAIAAMCI/w8FZjbCy7hi+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0xOFQxNzoyMjoyMSswODowMA8hWOkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMThUMTc6MjI6MjErMDg6MDB+fOBVAAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADI5MzUc/5oAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANjcwpm57LwAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTc0MDY4OTQxk0Z9/gAAABJ0RVh0VGh1bWI6OlNpemUAODA0MEJCeUcP0gAAAEJ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL3RtcC9pbWFnZWxjL2ltZ3ZpZXcyXzdfMTU3NDA0NTk2NzMwMzM1NjZfNjVfWzBd1EsNBQAAAABJRU5ErkJggg=="},251:function(a,t,s){a.exports=s.p+"assets/img/eureka_001.ea2e7caa.png"},252:function(a,t,s){a.exports=s.p+"assets/img/eureka_002.5e4bb05b.jpg"},253:function(a,t,s){a.exports=s.p+"assets/img/eureka_004.f18c221c.jpg"},254:function(a,t,s){a.exports=s.p+"assets/img/eureka_005.e6cacc92.png"},255:function(a,t,s){a.exports=s.p+"assets/img/eureka_006.cba0130d.png"},256:function(a,t,s){a.exports=s.p+"assets/img/eureka_007.eb1ceac1.png"},257:function(a,t,s){a.exports=s.p+"assets/img/eureka_008.93b7c6a2.png"},258:function(a,t,s){a.exports=s.p+"assets/img/eureka_009.7dc0aedb.png"},259:function(a,t,s){a.exports=s.p+"assets/img/eureka_010.cf2cec8b.png"},260:function(a,t,s){a.exports=s.p+"assets/img/eureka_011.0a15ad74.png"},261:function(a,t,s){a.exports=s.p+"assets/img/eureka_012.35ed93e5.png"},262:function(a,t,s){a.exports=s.p+"assets/img/eureka_013.575b36c0.png"},295:function(a,t,s){"use strict";s.r(t);var n=s(0),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"spring-cloud-eureka：服务注册与发现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud-eureka：服务注册与发现"}},[a._v("#")]),a._v(" Spring Cloud Eureka：服务注册与发现")]),a._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#摘要"}},[a._v("摘要")])]),n("li",[n("a",{attrs:{href:"#eureka简介"}},[a._v("Eureka简介")])]),n("li",[n("a",{attrs:{href:"#搭建eureka注册中心"}},[a._v("搭建Eureka注册中心")]),n("ul",[n("li",[n("a",{attrs:{href:"#使用idea来创建springcloud应用"}},[a._v("使用IDEA来创建SpringCloud应用")])]),n("li",[n("a",{attrs:{href:"#使用idea的run-dashboard来运行springcloud应用"}},[a._v("使用IDEA的Run Dashboard来运行SpringCloud应用")])])])]),n("li",[n("a",{attrs:{href:"#搭建eureka客户端"}},[a._v("搭建Eureka客户端")])]),n("li",[n("a",{attrs:{href:"#搭建eureka注册中心集群"}},[a._v("搭建Eureka注册中心集群")]),n("ul",[n("li",[n("a",{attrs:{href:"#搭建两个注册中心"}},[a._v("搭建两个注册中心")])]),n("li",[n("a",{attrs:{href:"#运行eureka注册中心集群"}},[a._v("运行Eureka注册中心集群")])])])]),n("li",[n("a",{attrs:{href:"#给eureka注册中心添加认证"}},[a._v("给Eureka注册中心添加认证")]),n("ul",[n("li",[n("a",{attrs:{href:"#创建一个eureka-security-server模块，在pom-xml中添加以下依赖"}},[a._v("创建一个eureka-security-server模块，在pom.xml中添加以下依赖")])]),n("li",[n("a",{attrs:{href:"#添加application-yml配置文件"}},[a._v("添加application.yml配置文件")])]),n("li",[n("a",{attrs:{href:"#添加java配置websecurityconfig"}},[a._v("添加Java配置WebSecurityConfig")])]),n("li",[n("a",{attrs:{href:"#运行eureka-security-server，访问http-localhost-8004发现需要登录认证"}},[a._v("运行eureka-security-server，访问http://localhost:8004发现需要登录认证")])]),n("li",[n("a",{attrs:{href:"#eureka-client注册到有登录认证的注册中心"}},[a._v("eureka-client注册到有登录认证的注册中心")])])])]),n("li",[n("a",{attrs:{href:"#eureka的常用配置"}},[a._v("Eureka的常用配置")])]),n("li",[n("a",{attrs:{href:"#使用到的模块"}},[a._v("使用到的模块")])])])]),n("p"),a._v(" "),n("h2",{attrs:{id:"摘要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[a._v("#")]),a._v(" 摘要")]),a._v(" "),n("p",[a._v("Spring Cloud Eureka是Spring Cloud Netflix 子项目的核心组件之一，主要用于微服务架构中的服务治理。\n本文将对搭建Eureka注册中心，搭建Eureka客户端，搭建Eureka集群及给Eureka注册中心添加登录认证进行介绍。")]),a._v(" "),n("h2",{attrs:{id:"eureka简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eureka简介"}},[a._v("#")]),a._v(" Eureka简介")]),a._v(" "),n("p",[a._v("在微服务架构中往往会有一个注册中心，每个微服务都会向注册中心去注册自己的地址及端口信息，\n注册中心维护着服务名称与服务实例的对应关系。每个微服务都会定时从注册中心获取服务列表，同时汇报自己的运行情况，\n这样当有的服务需要调用其他服务时，就可以从自己获取到的服务列表中获取实例地址进行调用，Eureka实现了这套服务注册与发现机制。")]),a._v(" "),n("h2",{attrs:{id:"搭建eureka注册中心"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建eureka注册中心"}},[a._v("#")]),a._v(" 搭建Eureka注册中心")]),a._v(" "),n("h3",{attrs:{id:"使用idea来创建springcloud应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用idea来创建springcloud应用"}},[a._v("#")]),a._v(" 使用IDEA来创建SpringCloud应用")]),a._v(" "),n("ul",[n("li",[a._v("创建一个eureka-server模块，并使用Spring Initializer初始化一个SpringBoot项目")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(251),alt:"创建",title:"初始化项目"}})]),a._v(" "),n("ul",[n("li",[a._v("填写模块基本信息")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(252),alt:"创建",title:"初始化项目"}})]),a._v(" "),n("ul",[n("li",[n("p",[a._v("选择SpringCloud的EurekaServer服务注册中心组件进行创建")])]),a._v(" "),n("li",[n("p",[a._v("创建完成后会发现pom.xml文件中已经有了eureka-server的依赖")])])]),a._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework.cloud"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-cloud-starter-netflix-eureka-server"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("ul",[n("li",[a._v("在启动类上添加@EnableEurekaServer注解来启用Euerka注册中心功能")])]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@EnableEurekaServer")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@SpringBootApplication")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EurekaServerApplication")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EurekaServerApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br")])]),n("ul",[n("li",[a._v("在配置文件application.yml中添加Eureka注册中心的配置")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8001 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定运行端口")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定服务名称")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" localhost "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定主机地址")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定是否要从注册中心获取服务（注册中心不需要开启）")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#指定是否要注册到注册中心（注册中心不需要开启）")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-self-preservation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭保护模式")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br")])]),n("h3",{attrs:{id:"使用idea的run-dashboard来运行springcloud应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用idea的run-dashboard来运行springcloud应用"}},[a._v("#")]),a._v(" 使用IDEA的Run Dashboard来运行SpringCloud应用")]),a._v(" "),n("blockquote",[n("p",[a._v("此时服务已经创建完成，点击启动类的main方法就可以运行了。但是在微服务项目中我们会启动很多服务，为了便于管理，我们使用IDEA的Run Dashboard来启动。")])]),a._v(" "),n("ul",[n("li",[a._v("打开Run Dashboard，默认情况下，当IDEA检查到你的项目中有SpringBoot应用时，会提示你开启，如果你没开启，可以用以下方法开启。")])]),a._v(" "),n("p",[a._v("先检查View->Tool windows 中有无Run Dashboard,若没有则")]),a._v(" "),n("p",[n("img",{attrs:{src:s(253),alt:"Run Dashboard",title:"Run Dashboard"}})]),a._v(" "),n("p",[n("img",{attrs:{src:s(254),alt:"Run Dashboard",title:"Run Dashboard"}})]),a._v(" "),n("ul",[n("li",[a._v("运行SpringCloud应用")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(255),alt:"Run Dashboard",title:"运行"}})]),a._v(" "),n("ul",[n("li",[a._v("运行完成后访问地址http://localhost:8001/可以看到Eureka注册中心的界面")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(256),alt:"Eureka注册中心的界面",title:"Eureka注册中心的界面"}})]),a._v(" "),n("h2",{attrs:{id:"搭建eureka客户端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建eureka客户端"}},[a._v("#")]),a._v(" 搭建Eureka客户端")]),a._v(" "),n("ul",[n("li",[a._v("新建一个eureka-client模块，并在pom.xml中添加如下依赖")])]),a._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework.cloud"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-cloud-starter-netflix-eureka-client"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework.boot"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-boot-starter-web"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br")])]),n("ul",[n("li",[a._v("在启动类上添加@EnableDiscoveryClient注解表明是一个Eureka客户端")])]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@EnableEurekaClient")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@SpringBootApplication")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EurekaClientApplication")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("EurekaClientApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br")])]),n("ul",[n("li",[a._v("在配置文件application.yml中添加Eureka客户端的配置")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8101 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#运行端口号")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("client "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#服务名称")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#注册到Eureka的注册中心")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#获取注册实例列表")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8001/eureka/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#配置注册中心地址")]),a._v("\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br")])]),n("ul",[n("li",[a._v("运行eureka-client")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(257),alt:"运行eureka-client",title:"运行eureka-client"}})]),a._v(" "),n("ul",[n("li",[a._v("查看注册中心http://localhost:8001/发现Eureka客户端已经成功注册")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(258),alt:"Eureka客户端",title:"Eureka客户端"}})]),a._v(" "),n("h2",{attrs:{id:"搭建eureka注册中心集群"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建eureka注册中心集群"}},[a._v("#")]),a._v(" 搭建Eureka注册中心集群")]),a._v(" "),n("h3",{attrs:{id:"搭建两个注册中心"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建两个注册中心"}},[a._v("#")]),a._v(" 搭建两个注册中心")]),a._v(" "),n("blockquote",[n("p",[a._v("由于所有服务都会注册到注册中心去，服务之间的调用都是通过从注册中心获取的服务列表来调用，注册中心一旦宕机，\n所有服务调用都会出现问题。所以我们需要多个注册中心组成集群来提供服务，下面将搭建一个"),n("strong",[a._v("双节点的")]),a._v("注册中心集群。")])]),a._v(" "),n("ul",[n("li",[a._v("给eureka-sever添加配置文件application-replica1.yml配置第一个注册中心")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8002")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" replica1\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("serviceUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//replica2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8003/eureka/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#注册到另一个Eureka注册中心")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br")])]),n("ul",[n("li",[a._v("给eureka-sever添加配置文件application-replica2.yml配置第二个注册中心")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8003")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" replica2\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("serviceUrl")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//replica1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8002/eureka/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#注册到另一个Eureka注册中心")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br")])]),n("p",[n("strong",[a._v("这里我们通过两个注册中心互相注册，搭建了注册中心的双节点集群，由于defaultZone使用了域名，所以还需在本机的host文件中配置一下。")])]),a._v(" "),n("ul",[n("li",[a._v("修改本地host文件")])]),a._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[a._v("127.0.0.1 replica1\n127.0.0.1 replica2\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h3",{attrs:{id:"运行eureka注册中心集群"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行eureka注册中心集群"}},[a._v("#")]),a._v(" 运行Eureka注册中心集群")]),a._v(" "),n("blockquote",[n("p",[a._v("在IDEA中我们可以通过使用不同的配置文件来启动同一个SpringBoot应用。")])]),a._v(" "),n("p",[a._v("添加两个配置，分别以application-replica1.yml和application-replica2.yml来启动eureka-server")]),a._v(" "),n("blockquote",[n("p",[a._v("从原启动配置中复制一个出来")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(259),alt:"复制启动配置",title:"复制启动配置"}})]),a._v(" "),n("blockquote",[n("p",[a._v("配置启动的配置文件")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(260),alt:"配置启动的配置文件",title:"更改后缀,服务根据配置文件后缀区分加载"}})]),a._v(" "),n("ul",[n("li",[a._v("启动两个eureka-server，访问其中一个注册中心http://replica1:8002/发现另一个已经成为其备份")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(261),alt:"启动注册中心",title:"启动注册中心"}})]),a._v(" "),n("ul",[n("li",[a._v("修改Eureka-client，让其连接到集群")])]),a._v(" "),n("blockquote",[n("p",[a._v("添加eureka-client的配置文件application-replica.yml，让其同时注册到两个注册中心。")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8102")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("client\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//replica1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8002/eureka/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//replica2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8003/eureka/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#同时注册到两个注册中心")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("blockquote",[n("p",[a._v("以该配置文件启动后访问任意一个注册中心节点都可以看到eureka-client")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(262),alt:"注册中心",title:"注册中心"}})]),a._v(" "),n("h2",{attrs:{id:"给eureka注册中心添加认证"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#给eureka注册中心添加认证"}},[a._v("#")]),a._v(" 给Eureka注册中心添加认证")]),a._v(" "),n("h3",{attrs:{id:"创建一个eureka-security-server模块，在pom-xml中添加以下依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建一个eureka-security-server模块，在pom-xml中添加以下依赖"}},[a._v("#")]),a._v(" 创建一个eureka-security-server模块，在pom.xml中添加以下依赖")]),a._v(" "),n("blockquote",[n("p",[a._v("需要添加SpringSecurity模块。")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[a._v("<dependency"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n    <groupId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("org.springframework.cloud</groupId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n    <artifactId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("starter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("netflix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server</artifactId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n</dependency"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n\n<dependency"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n    <groupId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("org.springframework.boot</groupId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n    <artifactId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("starter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("security</artifactId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n</dependency"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br")])]),n("h3",{attrs:{id:"添加application-yml配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加application-yml配置文件"}},[a._v("#")]),a._v(" 添加application.yml配置文件")]),a._v(" "),n("blockquote",[n("p",[a._v("主要是配置了登录注册中心的用户名和密码")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8004")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("security"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("security")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#配置SpringSecurity登录用户名和密码")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("user")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" macro\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("123456")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" localhost\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br")])]),n("h3",{attrs:{id:"添加java配置websecurityconfig"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加java配置websecurityconfig"}},[a._v("#")]),a._v(" 添加Java配置WebSecurityConfig")]),a._v(" "),n("blockquote",[n("p",[a._v("默认情况下添加SpringSecurity依赖的应用每个请求都需要添加CSRF\ntoken才能访问，Eureka客户端注册时并不会添加，所以需要配置/eureka/**路径不需要CSRF token。")])]),a._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@EnableWebSecurity")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("WebSecurityConfig")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("WebSecurityConfigurerAdapter")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Override")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("protected")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HttpSecurity")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("throws")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Exception")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("csrf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("ignoringAntMatchers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/eureka/**"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("configure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br")])]),n("h3",{attrs:{id:"运行eureka-security-server，访问http-localhost-8004发现需要登录认证"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行eureka-security-server，访问http-localhost-8004发现需要登录认证"}},[a._v("#")]),a._v(" 运行eureka-security-server，访问http://localhost:8004发现需要登录认证")]),a._v(" "),n("p",[n("img",{attrs:{src:s(108),alt:"运行eureka-security-server",title:"登录认证"}})]),a._v(" "),n("h3",{attrs:{id:"eureka-client注册到有登录认证的注册中心"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eureka-client注册到有登录认证的注册中心"}},[a._v("#")]),a._v(" eureka-client注册到有登录认证的注册中心")]),a._v(" "),n("ul",[n("li",[a._v("配置文件中需要修改注册中心地址格式")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[a._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("username"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("@$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("hostname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("/eureka/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("ul",[n("li",[a._v("添加application-security.yml配置文件，按格式修改用户名和密码")])]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("8103")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" eureka"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("client\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//macro"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("123456@localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8004/eureka/\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("ul",[n("li",[a._v("以application-security.yml配置运行eureka-client，可以在注册中心界面看到eureka-client已经成功注册")])]),a._v(" "),n("p",[n("img",{attrs:{src:s(108),alt:"eureka-client成功注册",title:"eureka-client成功注册"}})]),a._v(" "),n("h2",{attrs:{id:"eureka的常用配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#eureka的常用配置"}},[a._v("#")]),a._v(" Eureka的常用配置")]),a._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#eureka客户端配置")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#是否将自己注册到eureka服务端上去")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#是否获取eureka服务端上注册的服务列表")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("8001/eureka/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 指定注册中心地址")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启用eureka客户端")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("registry-fetch-interval-seconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("30 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#定义去eureka服务端获取服务列表的时间间隔")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("instance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#eureka客户端实例配置")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("lease-renewal-interval-in-seconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("30 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#定义服务多久去注册中心续约")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("lease-expiration-duration-in-seconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("90 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#定义服务多久不去续约认为服务失效")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata-map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("zone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" jiangsu "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#所在区域")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" localhost "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#服务主机名称")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("prefer-ip-address")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#是否优先使用ip来作为主机名")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#eureka服务端配置")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-self-preservation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#关闭eureka服务端的保护机制")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br")])]),n("h2",{attrs:{id:"使用到的模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用到的模块"}},[a._v("#")]),a._v(" 使用到的模块")]),a._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[a._v("springcloud-learning\n├── eureka-server -- eureka注册中心\n├── eureka-security-server -- 带登录认证的eureka注册中心\n└── eureka-client -- eureka客户端\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);