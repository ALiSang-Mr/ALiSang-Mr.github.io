(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{275:function(t,s,a){t.exports=a.p+"assets/img/zuul_001.c8fa0fb3.png"},276:function(t,s){t.exports="data:image/png;base64,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WfluMtV+srz7ILvppmg/WdYvNJriK5t0ERP+sqGowE9mKyZDPzX6ytyFACN+Srdj/GVFM57u+kNdWJ+vDEXUQfl+suEuq89Xhugazjh+Mnd9XbygRVe4y/aq9pW56+tif5iuSNjL8JcVQ9l+soTPwjiPPY5hh9X7yqx16j37PPY64i+rj/F8PQN153mupCr1lQ3UXVzkmYf4yyajbD+ZtV49JT4lfD8V+8qs9eqmSMwz18dttsdfVi5j+smS697T41ZdvjJXJ0PFK/xlE1O2nywrz1r+nBy/Wdm+sqw865nhzM2z+MsqY1w/Wcp81tSbOXmtxVeWMp819ebMUfGXFUVdfrJJ3hOnPVfRlDYfQHfjUJyfrD/yC49qKWk6gOw0rL8DgLZAvAOAtkC8A4C2QLyDZjKtfrJhnx+DTx3MhJ8s737Ibjqpyk82dKf4ymaBpvjJhu8UX1nbKNNPVtzz4SubBpriJysAfGWzSbl+suguqf+PGb6yGaMpfrLQL5Fcd4yvrN2U7ydLXIWvbGZplJ8sbGi2x1fWbkr2k7n3wlc22zTFT2a1xlcGAWX7ybz09vjKZpRp95O5z1c0+MoaQXv8ZCH4ykqB9XcA0BaIdwDQFoh3ANAWiHfQTKbVT9YUQw/rmNOYCT9Zk31kyG48ivaTjUtVPrJxwT82EhX4yYqhPB9ZMeAfK41mp9lx191BHZTvJyudCX1k0HDG8ZP1jU2aT8zovRYfWS/27KT6w8yW+McKpGw/mbt+OOETq9lH5q4bTvjD8I/VzHi+HktPKdfbvVfvI7P05Hkp69aN8pR6/GPjUbafzIhf6T6xqPt6fGRG/Er3h0UN8Y/Vwph+MlcaSf+XfY+qfWRWXErzhzmN8Y8VQ9l+sr5zTW6ercFHZgzVMvxhcbtJ/GMwHuP6yYyJboZPLGpWi4/Mi//1kwx/WNRsMv8YWNTlJysK3hK3guL8ZNBqWH8HAG2BeAcAAAAAAJNw7/6DN9+q+yGghdy7j/CgetAd1AG6gzpAd1AH6A7qAN1BLSA8qAFkB3WA7qAO0B3UAbqDOkB3UD2sCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABoJP8Hd4MaH0C+mnoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTAtMTBUMjM6MjA6MDArMDg6MDD3r9RHAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEwLTEwVDIzOjIwOjAwKzA4OjAwhvJs+wAAACB0RVh0c29mdHdhcmUAaHR0cHM6Ly9pbWFnZW1hZ2ljay5vcme8zx2dAAAAGHRFWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzADGn/7svAAAAGHRFWHRUaHVtYjo6SW1hZ2U6OkhlaWdodAAxOTSpPtRgAAAAF3RFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADYzMbUFjr0AAAAZdEVYdFRodW1iOjpNaW1ldHlwZQBpbWFnZS9wbmc/slZOAAAAF3RFWHRUaHVtYjo6TVRpbWUAMTU3MDcyMDgwMFiReN8AAAASdEVYdFRodW1iOjpTaXplADc0OTRCQojya8YAAABDdEVYdFRodW1iOjpVUkkAZmlsZTovLy90bXAvaW1hZ2VsYy9pbWd2aWV3Ml83XzE1NzA3MDUxMjY4Mzg3MjA2XzM1MF9bMF02apBvAAAAAElFTkSuQmCC"},277:function(t,s){t.exports="data:image/png;base64,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"},278:function(t,s,a){t.exports=a.p+"assets/img/zuul_004.017beabf.png"},291:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"spring-cloud-zuul：api网关服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud-zuul：api网关服务"}},[t._v("#")]),t._v(" Spring Cloud Zuul：API网关服务")]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#摘要"}},[t._v("摘要")])]),n("li",[n("a",{attrs:{href:"#zuul简介"}},[t._v("Zuul简介")])]),n("li",[n("a",{attrs:{href:"#创建一个zuul-proxy模块"}},[t._v("创建一个zuul-proxy模块")]),n("ul",[n("li",[n("a",{attrs:{href:"#在pom-xml中添加相关依赖"}},[t._v("在pom.xml中添加相关依赖")])]),n("li",[n("a",{attrs:{href:"#在application-yml中进行配置"}},[t._v("在application.yml中进行配置")])]),n("li",[n("a",{attrs:{href:"#在启动类上添加-enablezuulproxy注解来启用zuul的api网关功能"}},[t._v("在启动类上添加@EnableZuulProxy注解来启用Zuul的API网关功能")])])])]),n("li",[n("a",{attrs:{href:"#常用功能"}},[t._v("常用功能")]),n("ul",[n("li",[n("a",{attrs:{href:"#启动相关服务"}},[t._v("启动相关服务")])]),n("li",[n("a",{attrs:{href:"#配置路由规则"}},[t._v("配置路由规则")])]),n("li",[n("a",{attrs:{href:"#默认路由规则"}},[t._v("默认路由规则")])]),n("li",[n("a",{attrs:{href:"#负载均衡功能"}},[t._v("负载均衡功能")])]),n("li",[n("a",{attrs:{href:"#配置访问前缀"}},[t._v("配置访问前缀")])]),n("li",[n("a",{attrs:{href:"#header过滤及重定向添加host"}},[t._v("Header过滤及重定向添加Host")])]),n("li",[n("a",{attrs:{href:"#查看路由信息"}},[t._v("查看路由信息")])])])]),n("li",[n("a",{attrs:{href:"#过滤器"}},[t._v("过滤器")]),n("ul",[n("li",[n("a",{attrs:{href:"#过滤器类型"}},[t._v("过滤器类型")])]),n("li",[n("a",{attrs:{href:"#过滤器的生命周期"}},[t._v("过滤器的生命周期")])]),n("li",[n("a",{attrs:{href:"#自定义过滤器"}},[t._v("自定义过滤器")])]),n("li",[n("a",{attrs:{href:"#添加prelogfilter类继承zuulfilter"}},[t._v("添加PreLogFilter类继承ZuulFilter")])]),n("li",[n("a",{attrs:{href:"#过滤器功能演示"}},[t._v("过滤器功能演示")])]),n("li",[n("a",{attrs:{href:"#核心过滤器"}},[t._v("核心过滤器")])]),n("li",[n("a",{attrs:{href:"#禁用过滤器"}},[t._v("禁用过滤器")])])])]),n("li",[n("a",{attrs:{href:"#ribbon和hystrix的支持"}},[t._v("Ribbon和Hystrix的支持")])]),n("li",[n("a",{attrs:{href:"#常用配置"}},[t._v("常用配置")])]),n("li",[n("a",{attrs:{href:"#使用到的模块"}},[t._v("使用到的模块")])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"摘要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#摘要"}},[t._v("#")]),t._v(" 摘要")]),t._v(" "),n("p",[t._v("Spring Cloud Zuul 是Spring Cloud Netflix 子项目的核心组件之一，可以作为微服务架构中的API网关使用，\n支持动态路由与过滤功能，本文将对其用法进行详细介绍。")]),t._v(" "),n("h2",{attrs:{id:"zuul简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zuul简介"}},[t._v("#")]),t._v(" Zuul简介")]),t._v(" "),n("p",[t._v("API网关为微服务架构中的服务提供了统一的访问入口，客户端通过API网关访问相关服务。API网关的定义类似于"),n("strong",[t._v("设计模式中的门面模式")]),t._v("，\n它相当于整个微服务架构中的门面，所有客户端的访问都通过它来进行路由及过滤。它实现了请求路由、负载均衡、校验过滤、服务容错、服务聚合等功能。")]),t._v(" "),n("h2",{attrs:{id:"创建一个zuul-proxy模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建一个zuul-proxy模块"}},[t._v("#")]),t._v(" 创建一个zuul-proxy模块")]),t._v(" "),n("blockquote",[n("p",[t._v("这里我们创建一个zuul-proxy模块来演示zuul的常用功能。")])]),t._v(" "),n("h3",{attrs:{id:"在pom-xml中添加相关依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在pom-xml中添加相关依赖"}},[t._v("#")]),t._v(" 在pom.xml中添加相关依赖")]),t._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.cloud"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-cloud-starter-netflix-eureka-client"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.cloud"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-cloud-starter-netflix-zuul"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("h3",{attrs:{id:"在application-yml中进行配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在application-yml中进行配置"}},[t._v("#")]),t._v(" 在application.yml中进行配置")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8801")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zuul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("proxy\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("client")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("register-with-eureka")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fetch-registry")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("defaultZone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8001/eureka/\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h3",{attrs:{id:"在启动类上添加-enablezuulproxy注解来启用zuul的api网关功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在启动类上添加-enablezuulproxy注解来启用zuul的api网关功能"}},[t._v("#")]),t._v(" 在启动类上添加@EnableZuulProxy注解来启用Zuul的API网关功能")]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableZuulProxy")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableDiscoveryClient")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootApplication")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZuulProxyApplication")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZuulProxyApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("h2",{attrs:{id:"常用功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用功能"}},[t._v("#")]),t._v(" 常用功能")]),t._v(" "),n("h3",{attrs:{id:"启动相关服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动相关服务"}},[t._v("#")]),t._v(" 启动相关服务")]),t._v(" "),n("p",[t._v("这里我们通过启动eureka-server，两个user-service，feign-service和zuul-proxy来演示Zuul的常用功能，启动后注册中心显示如下。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(275),alt:"启动服务",title:"启动服务"}})]),t._v(" "),n("h3",{attrs:{id:"配置路由规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置路由规则"}},[t._v("#")]),t._v(" 配置路由规则")]),t._v(" "),n("ul",[n("li",[t._v("我们可以通过修改application.yml中的配置来配置路由规则，这里我们将匹配/userService/**的请求路由到user-service服务上去，\n匹配/feignService/**的请求路由到feign-service上去。")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给服务配置路由")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /userService/**\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("feign-service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /feignService/**\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("ul",[n("li",[n("p",[t._v("访问http://localhost:8801/userService/user/1可以发现请求路由到了user-service上了；")])]),t._v(" "),n("li",[n("p",[t._v("访问http://localhost:8801/feignService/user/1可以发现请求路由到了feign-service上了。")])])]),t._v(" "),n("h3",{attrs:{id:"默认路由规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#默认路由规则"}},[t._v("#")]),t._v(" 默认路由规则")]),t._v(" "),n("ul",[n("li",[t._v("Zuul和Eureka结合使用，可以实现路由的自动配置，自动配置的路由以服务名称为匹配路径，相当于如下配置：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#zuul:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  routes: #以服务名称给服务配置路由(默认)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    user-service:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#      path: /user-service/**")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    feign-service:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#      path: /feign-service/**")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("ul",[n("li",[n("p",[t._v("访问http://localhost:8801/user-service/user/1同样可以路由到了user-service上了；")])]),t._v(" "),n("li",[n("p",[t._v("访问http://localhost:8801/feign-service/user/1同样可以路由到了feign-service上了。")])]),t._v(" "),n("li",[n("p",[t._v("如果不想使用默认的路由规则，可以添加以下配置来忽略默认路由配置：")])])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ignored-services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#关闭默认路由配置")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"负载均衡功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡功能"}},[t._v("#")]),t._v(" 负载均衡功能")]),t._v(" "),n("p",[t._v("多次调用http://localhost:8801/user-service/user/1进行测试，可以发现运行在8201和8202的user-service服务交替打印如下信息。")]),t._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[t._v("2019-10-05 10:31:58.738  INFO 11520 --- [nio-8202-exec-5] c.alisang.cloud.controller.UserController  : 根据id获取用户信息，用户名称为：alisang\n2019-10-05 10:32:00.356  INFO 11520 --- [nio-8202-exec-6] c.alisang.cloud.controller.UserController  : 根据id获取用户信息，用户名称为：alisang\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"配置访问前缀"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置访问前缀"}},[t._v("#")]),t._v(" 配置访问前缀")]),t._v(" "),n("p",[t._v("我们可以通过以下配置来给网关路径添加前缀，此处添加了/proxy前缀，这样我们需要访问http://localhost:8801/proxy/user-service/user/1才能访问到user-service中的接口。")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /proxy "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给网关路由添加前缀")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"header过滤及重定向添加host"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#header过滤及重定向添加host"}},[t._v("#")]),t._v(" Header过滤及重定向添加Host")]),t._v(" "),n("ul",[n("li",[t._v("Zuul在请求路由时，默认会过滤掉一些敏感的头信息，以下配置可以防止路由时的Cookie及Authorization的丢失：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sensitive-headers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Cookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Set"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Cookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Authorization "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置过滤敏感的请求头信息，设置为空就不会过滤")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("ul",[n("li",[t._v("Zuul在请求路由时，不会设置最初的host头信息，以下配置可以解决：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add-host-header")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置为true重定向是会添加host请求头")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"查看路由信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看路由信息"}},[t._v("#")]),t._v(" 查看路由信息")]),t._v(" "),n("blockquote",[n("p",[t._v("我们可以通过SpringBoot Actuator来查看Zuul中的路由信息。")])]),t._v(" "),n("ul",[n("li",[t._v("在pom.xml中添加相关依赖：")])]),t._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-actuator"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("ul",[n("li",[t._v("修改application.yaml配置文件，开启查看路由的端点：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("management")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("endpoints")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("web")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exposure")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'routes'")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("ul",[n("li",[t._v("通过访问http://localhost:8801/actuator/routes查看简单路由信息：")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(276),alt:"看简单路由信息",title:"看简单路由信息"}})]),t._v(" "),n("ul",[n("li",[t._v("通过访问http://localhost:8801/actuator/routes/details查看详细路由信息：")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(277),alt:"查看详细路由信息",title:"查看详细路由信息"}})]),t._v(" "),n("h2",{attrs:{id:"过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过滤器"}},[t._v("#")]),t._v(" 过滤器")]),t._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[n("strong",[t._v("路由与过滤是Zuul的两大核心功能")]),t._v("，"),n("strong",[t._v("路由功能")]),t._v("负责将外部请求转发到具体的服务实例上去，是实现统一访问入口的基础，\n"),n("strong",[t._v("过滤功能")]),t._v("负责对请求过程进行额外的处理，是请求校验过滤及服务聚合的基础。")])]),t._v(" "),n("h3",{attrs:{id:"过滤器类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过滤器类型"}},[t._v("#")]),t._v(" 过滤器类型")]),t._v(" "),n("blockquote",[n("p",[t._v("Zuul中有以下几种典型的过滤器类型。")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("pre：在请求被路由到目标服务前执行，比如权限校验、打印日志等功能；")])]),t._v(" "),n("li",[n("p",[t._v("routing：在请求被路由到目标服务时执行，这是使用Apache HttpClient或Netflix Ribbon构建和发送原始HTTP请求的地方；")])]),t._v(" "),n("li",[n("p",[t._v("post：在请求被路由到目标服务后执行，比如给目标服务的响应添加头信息，收集统计数据等功能；")])]),t._v(" "),n("li",[n("p",[t._v("error：请求在其他阶段发生错误时执行。")])])]),t._v(" "),n("h3",{attrs:{id:"过滤器的生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过滤器的生命周期"}},[t._v("#")]),t._v(" 过滤器的生命周期")]),t._v(" "),n("blockquote",[n("p",[t._v("下图描述了一个HTTP请求到达API网关后，如何在各种不同类型的过滤器中流转的过程")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(278),alt:"HTTP请求到达API网关的不同过程",title:"HTTP请求到达API网关的不同过程"}})]),t._v(" "),n("h3",{attrs:{id:"自定义过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自定义过滤器"}},[t._v("#")]),t._v(" 自定义过滤器")]),t._v(" "),n("blockquote",[n("p",[t._v("接下来我们自定义一个过滤器来演示下过滤器的作用。")])]),t._v(" "),n("h3",{attrs:{id:"添加prelogfilter类继承zuulfilter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#添加prelogfilter类继承zuulfilter"}},[t._v("#")]),t._v(" 添加PreLogFilter类继承ZuulFilter")]),t._v(" "),n("blockquote",[n("p",[t._v("这是一个前置过滤器，用于在请求路由到目标服务前打印请求日志。")])]),t._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Created by macro on 2019/9/9.\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PreLogFilter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZuulFilter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),t._v(" LOGGER "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LoggerFactory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLogger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 过滤器类型，有pre、routing、post、error四种。\n     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("filterType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pre"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 过滤器执行顺序，数值越小优先级越高。\n     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("filterOrder")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 是否进行过滤，返回true会执行过滤。\n     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 自定义的过滤器逻辑，当shouldFilter()返回true时会执行。\n     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ZuulException")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestContext")]),t._v(" requestContext "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" requestContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" host "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRemoteHost")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" method "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uri "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRequestURI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        LOGGER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Remote host:{},method:{},uri:{}"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" host"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uri"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br"),n("span",{staticClass:"line-number"},[t._v("41")]),n("br"),n("span",{staticClass:"line-number"},[t._v("42")]),n("br"),n("span",{staticClass:"line-number"},[t._v("43")]),n("br"),n("span",{staticClass:"line-number"},[t._v("44")]),n("br"),n("span",{staticClass:"line-number"},[t._v("45")]),n("br")])]),n("h3",{attrs:{id:"过滤器功能演示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#过滤器功能演示"}},[t._v("#")]),t._v(" 过滤器功能演示")]),t._v(" "),n("p",[t._v("添加过滤器后，我们访问http://localhost:8801/user-service/user/1测试下，会打印如下日志。")]),t._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[t._v("2019-10-05 15:13:10.232  INFO 11040 --- [nio-8801-exec-7] com.alisang.cloud.filter.PreLogFilter      : Remote host:0:0:0:0:0:0:0:1,method:GET,uri:/user-service/user/1\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h3",{attrs:{id:"核心过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#核心过滤器"}},[t._v("#")]),t._v(" "),n("strong",[t._v("核心过滤器")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("过滤器名称")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("过滤类型")]),t._v(" "),n("th",{staticStyle:{"text-align":"center"}},[t._v("优先级")]),t._v(" "),n("th",{staticStyle:{"text-align":"right"}},[t._v("过滤器的作用")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("ServletDetectionFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("pre")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("-3")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("检测当前请求是通过DispatcherServlet")])]),t._v(" "),n("tr",[n("td",[t._v("Servlet30WrapperFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("pre")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("-2")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("处理运行的还是ZuulServlet运行处理的。")])]),t._v(" "),n("tr",[n("td",[t._v("FormBodyWrapperFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("pre")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("-1")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("对原始的HttpServletRequest进行包装。")])]),t._v(" "),n("tr",[n("td",[t._v("DebugFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("根据zuul.debug.request的配置来决定是否打印debug日志。")])]),t._v(" "),n("tr",[n("td",[t._v("PreDecorationFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("对当前请求进行预处理以便执行后续操作。")])]),t._v(" "),n("tr",[n("td",[t._v("RibbonRoutingFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("10")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("通过Ribbon和Hystrix来向服务实例发起请求，并将请求结果进行返回。")])]),t._v(" "),n("tr",[n("td",[t._v("SimpleHostRoutingFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("100")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("只对请求上下文中有routeHost参数的进行处理，直接使用HttpClient向routeHost对应的物理地址进行转发。")])]),t._v(" "),n("tr",[n("td",[t._v("SendForwardFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("route")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("500")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("只对请求上下文中有forward.to参数的进行处理，进行本地跳转。")])]),t._v(" "),n("tr",[n("td",[t._v("SendErrorFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("post")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("当其他过滤器内部发生异常时的会由它来进行处理，产生错误响应。")])]),t._v(" "),n("tr",[n("td",[t._v("SendResponseFilter")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("post")]),t._v(" "),n("td",{staticStyle:{"text-align":"center"}},[t._v("1000")]),t._v(" "),n("td",{staticStyle:{"text-align":"right"}},[t._v("利用请求上下文的响应信息来组织请求成功的响应内容。")])])])]),t._v(" "),n("h3",{attrs:{id:"禁用过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#禁用过滤器"}},[t._v("#")]),t._v(" 禁用过滤器")]),t._v(" "),n("ul",[n("li",[t._v("我们可以对过滤器进行禁用的配置，配置格式如下：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filterClassName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("disable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("ul",[n("li",[t._v("以下是禁用PreLogFilter的示例配置：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PreLogFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pre")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("disable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h2",{attrs:{id:"ribbon和hystrix的支持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ribbon和hystrix的支持"}},[t._v("#")]),t._v(" Ribbon和Hystrix的支持")]),t._v(" "),n("blockquote",[n("p",[t._v("由于Zuul自动集成了Ribbon和Hystrix，所以Zuul天生就有负载均衡和服务容错能力，我们可以通过Ribbon和Hystrix的配置来配置Zuul中的相应功能。")])]),t._v(" "),n("ul",[n("li",[t._v("可以使用Hystrix的配置来设置路由转发时HystrixCommand的执行超时时间：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#用于控制HystrixCommand的行为")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("execution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("isolation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("thread")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutInMilliseconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置HystrixCommand执行的超时时间，执行超过该时间会进行服务降级处理")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("ul",[n("li",[t._v("可以使用Ribbon的配置来设置路由转发时请求连接及处理的超时时间：")])]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ribbon")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#全局配置")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ConnectTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#服务请求连接超时时间（毫秒）")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ReadTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000 ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#服务请求处理超时时间（毫秒）")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h2",{attrs:{id:"常用配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用配置"}},[t._v("#")]),t._v(" 常用配置")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zuul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给服务配置路由")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /userService/**\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("feign-service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /feignService/**\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ignored-services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" user"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#关闭默认路由配置")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /proxy "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#给网关路由添加前缀")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sensitive-headers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Cookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Set"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Cookie"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Authorization "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置过滤敏感的请求头信息，设置为空就不会过滤")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("add-host-header")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置为true重定向是会添加host请求头")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retryable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭重试机制")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PreLogFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pre")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("disable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false ")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#控制是否启用过滤器")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br")])]),n("h2",{attrs:{id:"使用到的模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用到的模块"}},[t._v("#")]),t._v(" 使用到的模块")]),t._v(" "),n("div",{staticClass:"language-markdown line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[t._v("springcloud-learning\n├── eureka-server -- eureka注册中心\n├── user-service -- 提供User对象CRUD接口的服务\n├── feign-service -- feign服务调用测试服务\n└── zuul-proxy -- zuul作为网关的测试服务\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);