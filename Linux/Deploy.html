<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 部署 | 阿利桑</title>
    <meta name="description" content="阿利桑 ALiSang-Mr 维基百科">
    <link rel="icon" href="/ALiSang-Mr.github.io/img/ali.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    
    <link rel="preload" href="/ALiSang-Mr.github.io/assets/css/0.styles.21febb6e.css" as="style"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/app.4e173ec1.js" as="script"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/2.728c3c36.js" as="script"><link rel="preload" href="/ALiSang-Mr.github.io/assets/js/45.beea6627.js" as="script"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/10.413d4a8a.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/11.5e13bb02.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/12.035f891d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/13.8678ab9d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/14.fd2682c5.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/15.79f7b2c6.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/16.dd7c3f73.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/17.4bd9133c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/18.174b2afc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/19.ef453d35.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/20.b9397fbc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/21.88cbfa3d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/22.190fbae8.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/23.255be8dc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/24.d5ac6014.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/25.04a88ef4.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/26.919b3652.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/27.3fb2ecc8.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/28.b1412aff.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/29.51715fbe.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/3.8de677dd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/30.334f2054.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/31.511d09e4.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/32.fa64cb71.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/33.0f6bccdd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/34.cc5ab0f1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/35.fcadeb75.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/36.a6a7d1b1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/37.bb32a6af.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/38.830b348b.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/39.7a9225b7.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/4.40fbd1a3.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/40.7791cfe5.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/41.22b49eb6.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/42.edb08334.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/43.a6753e0a.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/44.993dbcdc.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/46.30a8f03f.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/47.498642cd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/48.cb8a97dd.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/49.f0ddc014.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/5.eee2d428.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/50.0362f335.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/51.b7d271b1.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/52.eb24d36d.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/53.7d012477.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/54.aa35e33b.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/55.0262d957.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/56.cc65acd7.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/57.6caae4af.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/58.25fc968c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/59.ccacedc9.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/6.79dab355.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/60.a4b4a20c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/7.80eef07c.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/8.d45d7c5e.js"><link rel="prefetch" href="/ALiSang-Mr.github.io/assets/js/9.118c7b84.js">
    <link rel="stylesheet" href="/ALiSang-Mr.github.io/assets/css/0.styles.21febb6e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ALiSang-Mr.github.io/" class="home-link router-link-active"><!----> <span class="site-name">阿利桑</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ALiSang-Mr.github.io/FAQ/" class="nav-link">求索</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Store/" class="nav-link">仓库</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Thought/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Concat" class="dropdown-title"><span class="title">Concat</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/mulander" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/oop.html" class="nav-link">Java 面向对象基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/base.html" class="nav-link">Java 基础知识体系</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/Thread.html" class="nav-link">Java 并发线程基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/ExecutorPool.html" class="nav-link">Java 并发线程池</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Eureka/Eureka.html" class="nav-link">Eureka 服务注册中心</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Ribbon/Ribbon.html" class="nav-link">Ribbon 负载均衡的服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Hystrix/Hystrix.html" class="nav-link">Hystrix 服务容错保护</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/OpenFeign/OpenFeign.html" class="nav-link">OpenFeign 基于Ribbon和Hystrix的声明式服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Zuul/Zuul.html" class="nav-link">Zuul API网关服务</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Config/Config.html" class="nav-link">Config 外部集中化配置管理</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Bus/Bus.html" class="nav-link">Bus 消息总线</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Deploy.html" class="nav-link router-link-exact-active router-link-active">Linux 部署</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Log.html" class="nav-link">Linux 日志命令</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ALiSang-Mr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub首页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/island/code/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Island
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/timeWaster/demo/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TimeWaster
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ALiSang-Mr.github.io/FAQ/" class="nav-link">求索</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Store/" class="nav-link">仓库</a></div><div class="nav-item"><a href="/ALiSang-Mr.github.io/Thought/" class="nav-link">随笔</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Concat" class="dropdown-title"><span class="title">Concat</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/mulander" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/oop.html" class="nav-link">Java 面向对象基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Base/base.html" class="nav-link">Java 基础知识体系</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/Thread.html" class="nav-link">Java 并发线程基础</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Java/Concurrent/ExecutorPool.html" class="nav-link">Java 并发线程池</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringCloud" class="dropdown-title"><span class="title">SpringCloud</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Eureka/Eureka.html" class="nav-link">Eureka 服务注册中心</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Ribbon/Ribbon.html" class="nav-link">Ribbon 负载均衡的服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Hystrix/Hystrix.html" class="nav-link">Hystrix 服务容错保护</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/OpenFeign/OpenFeign.html" class="nav-link">OpenFeign 基于Ribbon和Hystrix的声明式服务调用</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Zuul/Zuul.html" class="nav-link">Zuul API网关服务</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Config/Config.html" class="nav-link">Config 外部集中化配置管理</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/SpringCloud/Bus/Bus.html" class="nav-link">Bus 消息总线</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Deploy.html" class="nav-link router-link-exact-active router-link-active">Linux 部署</a></li><li class="dropdown-item"><!----> <a href="/ALiSang-Mr.github.io/Linux/Log.html" class="nav-link">Linux 日志命令</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ALiSang-Mr" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub首页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/island/code/html/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Island
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mulander-j.github.io/timeWaster/demo/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TimeWaster
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ALiSang-Mr.github.io/Linux/Deploy.html" class="active sidebar-link">Linux 部署</a></li><li><a href="/ALiSang-Mr.github.io/Linux/Log.html" class="sidebar-link">Linux 日志</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux-部署"><a href="#linux-部署" class="header-anchor">#</a> Linux 部署</h1> <p></p><div class="table-of-contents"><ul><li><a href="#java">java</a></li><li><a href="#redis">redis</a></li><li><a href="#nginx">nginx</a></li><li><a href="#zookeeper">zookeeper</a></li><li><a href="#mysql">mysql</a></li></ul></div><p></p> <h2 id="java"><a href="#java" class="header-anchor">#</a> java</h2> <p>1.复制压缩包到一个目录下，例如：cp jdk.tar.gz /usr/local/</p> <p>2.解压缩，例如：tar xvf jdk.tar.gz</p> <p>3.建立软连接，例如：ln -s jdk1.7.0_67 jdk</p> <p>4.编辑系统文件，<code>vim /etc/profile</code>，添加内容如下</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>      export JAVA<span class="token italic"><span class="token punctuation">_</span><span class="token content">HOME=/usr/local/jdk
      export CLASSPATH=$CLASSPATH:$JAVA</span><span class="token punctuation">_</span></span>HOME/lib:$JAVA<span class="token italic"><span class="token punctuation">_</span><span class="token content">HOME/jre/lib
      export PATH=$PATH:$JAVA</span><span class="token punctuation">_</span></span>HOME/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>5.使文件生效，<code>source /etc/profile</code></p> <p>6.<code>java -version</code></p> <h2 id="redis"><a href="#redis" class="header-anchor">#</a> redis</h2> <ol><li></li></ol> <p>redis下载地址:也可以直接下载到服务器：<code>wget http://download.redis.io/releases/redis-4.0.11.tar.g</code></p> <p>或者 <code>rz 选择tar包文件</code></p> <p>2.解压缩，例如：<code>tar -zxvf redis-3.2.1.tar.gz</code></p> <p>3.建立软连接，例如：<code>ln -s redis-3.2.1 redis</code></p> <p>4.在redis目录下执行安装命令，如下：</p> <p><code>cd /usr/local/redis</code></p> <p><code>make PREFIX=/usr/local/redis install</code></p> <p>5.在/etc目录下创建redis目录，mkdir /etc/redis</p> <p>6.在/etc/redis目录下创建redis配置文件，例如：6384.conf，其中有一些重要属性需要修改，如下：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>      port 6384 端口号，最好和配置名称对应
      bind 0.0.0.0 允许访问的ip地址，0.0.0.0允许所有ip访问
      databases 1 创建数据库，目前是一块
      save &quot;&quot; 存储磁盘位置，不设置则不存盘
      dir /data/redis/6384/ 设置一个工作磁盘目录s
      	xxxx 设置密码，用于登陆
      maxmemory 512mb 最大占用内存单位mb，gb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>7.在/etc/init.d/目录下创建redis启动文件，其中有一些重要属性，如下：</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>      case 中的条件，如youhuipai，这个是启动redis别名，可以自行设置任意名称
      REDISPORT=6384 占用的端口号，等于redis配置中的port值
      REDISPASS=&quot;xxxx&quot; 登陆密码，等于redis配置文件中的requirepass值
      EXEC=/usr/local/redis/bin/redis-server 执行redis服务端命令的位置
      CLIEXEC=/usr/local/redis/bin/redis-cli 执行redis客户端命令的位置
      PIDFILE=/var/run/redis_${REDISPORT}.pid redis进程号存放位置
      CONF=&quot;/etc/redis/${REDISPORT}.conf&quot; redis配置文件位置
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>创建完成需要更好执行权限，<code>chmod 777 redis</code></p> <div class="language-shell script line-numbers-mode"><pre class="language-text"><code>#!/bin/sh
# chkconfig: 2345 80 90
#
# Simple Redis init.d script conceived to work on Linux systems
# as it does use of the /proc filesystem.


REDISPORT=6379
case &quot;$2&quot; in
    1)
	REDISPORT=6384
	REDISPASS=&quot;Queke123!!!&quot;
	;;
    *)
	echo &quot;Please use youhuipai as second argument&quot;
	exit 1
        ;;
esac


EXEC=/usr/local/redis/bin/redis-server
CLIEXEC=/usr/local/redis/bin/redis-cli

PIDFILE=/var/run/redis_${REDISPORT}.pid
CONF=&quot;/etc/redis/${REDISPORT}.conf&quot;

case &quot;$1&quot; in
    start)
        if [ -f $PIDFILE ]
        then
                echo &quot;$PIDFILE exists, process is already running or crashed&quot;
        else
                echo &quot;Starting Redis server...&quot;
                $EXEC $CONF &amp;
        fi
        ;;
    stop)
        if [ ! -f $PIDFILE ]
        then
                echo &quot;$PIDFILE does not exist, process is not running&quot;
        else
                PID=$(cat $PIDFILE)
                echo &quot;Stopping ...&quot;
                $CLIEXEC -p $REDISPORT -a $REDISPASS shutdown
                while [ -x /proc/${PID} ]
                do
                    echo &quot;Waiting for Redis to shutdown ...&quot;
                    sleep 1
                done
                echo &quot;Redis stopped&quot;
        fi
        ;;
    *)
        echo &quot;Please use start or stop as first argument&quot;
        ;;
esac
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p>8.启动redis命令，service redis start xxxx，其中xxxx对应redis启动文件case中的别名</p> <p>9.关闭redis命令，service redis stop xxxx</p> <ul><li>启动&amp;查看</li></ul> <p><code>ps -ef | grep redis</code></p> <p><code>./redis-server /etc/redis/6379.conf</code></p> <p><code>./redis-cli -h 127.0.0.1 -p 6379</code></p> <p><code>auth 密码</code></p> <ul><li>卸载</li></ul> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span>查看进程</span>
ps aux |grep redis
<span class="token title important"><span class="token punctuation">#</span>杀掉进程</span>
kill -9 进程号
<span class="token title important"><span class="token punctuation">#</span>查看相关文件</span>
find / -name &quot;redis&quot;
<span class="token title important"><span class="token punctuation">#</span>删除文件</span>
rm -rf 文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> nginx</h2> <p>1.安装make
<code>yum -y install gcc automake autoconf libtool make</code></p> <p><code>yum install gcc gcc-c++</code></p> <p>2.安装pcre
<code>cd /usr/local/src</code>    //进入src目录</p> <p><code>wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.39.tar.gz</code>    //下载pcre库</p> <p><code>tar -zxvf pcre-8.39.tar.gz</code>  //解压</p> <p><code>cd pcre-8.39</code></p> <p><code>./configure</code></p> <p><code>make &amp;&amp; make install</code></p> <p>3.安装zlib</p> <p><code>cd /usr/local/src</code>      //进入src目录</p> <p><code>wget http://zlib.net/zlib-1.2.11.tar.gz</code>     //下载zlib库</p> <p><code>tar -zxvf zlib-1.2.11.tar.gz</code></p> <p><code>cd zlib-1.2.11</code></p> <p><code>./configure</code></p> <p><code>make &amp;&amp; make install</code></p> <p>4.安装openssl</p> <p><code>cd /usr/local/src</code></p> <p><code>wget https://www.openssl.org/source/openssl-1.0.1t.tar.gz</code></p> <p><code>tar -zxvf openssl-1.0.1t.tar.gz</code></p> <p><code>./config &amp;&amp; make &amp;&amp; make install</code></p> <p>5.安装nginx</p> <p>cd /usr/local/src</p> <p><code>wget http://nginx.org/download/nginx-1.1.10.tar.gz</code></p> <p><code>tar -zxvf nginx-1.1.10.tar.gz</code></p> <p><code>cd nginx-1.1.10</code></p> <p><code>./configure</code></p> <p><code>make &amp;&amp; make install</code></p> <p>nginx启动命令:</p> <p><code>/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</code> 或
进入 sbin目录  执行<code>./nginx</code></p> <p>查看 nginx 进程：</p> <p><code>ps aux|grep nginx</code></p> <p>启动失败:</p> <p><code>ln -s /usr/local/lib/libpcre.so.1 /lib</code></p> <p>停止</p> <p><code>./nginx -s quit</code></p> <p>开放80端口<code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code></p> <p>停止防火墙<code>systemctl stop firewalld.service</code></p> <p>启动防火墙<code>systemctl start firewalld.service</code></p> <h2 id="zookeeper"><a href="#zookeeper" class="header-anchor">#</a> zookeeper</h2> <p>1.cd /usr/local/</p> <p>2.上传压缩包</p> <p>rz  选择压缩包</p> <p>3.<code>tar -zxvf zookeeper-3.4.10.tar.gz</code></p> <p>4.<code>ln -s zookeeper-3.4.10 zookeeper</code></p> <p>5.配置环境变量</p> <p><code>vim /etc/profile</code></p> <p><code>export ZOO_HOME=/usr/local/zookeeper</code></p> <p><code>export PATH=$PATH:$ZOO_HOME/bin</code></p> <p>6.使/etc/profile生效  ：<code>source /etc/profile</code></p> <p>7.<code>cd /usr/local/zookeeper</code></p> <p><code>zkServer.sh start</code>  //启动zookeeper</p> <p><code>netstat -lntp | grep java</code>  # 检查端口是否有正常监听</p> <p><code>zkServer.sh status</code>  # 查看zookeeper服务状态</p> <p><code>ps aux |grep java</code>  # 检查服务进程</p> <p>8.关闭 zookeeper</p> <p><code>zkServer.sh stop</code></p> <p>zoo.cfg配置：</p> <pre><code>tickTime：用于计算的时间单元。比如session超时：N * tickTime
initLimit：用于集群，允许从节点连接并同步到master节点的初始化连接时间，以tickTime的倍数来表示
syncLimit：用于集群，master主节点与从节点之间发送消息，请求和应答时间长度（心跳包机制）
dataDir：必须配置，数据文件所存放的目录
dataLogDir：日志目录，如果不配置就和dataDir共用同一个目录
clientPort：连接服务器的端口，默认为2181
</code></pre> <p>调试：<code>./zkServer.sh start-foreground</code></p> <h2 id="mysql"><a href="#mysql" class="header-anchor">#</a> mysql</h2> <p>1.复制压缩包到一个目录下，例如：<code>cp mysql-5.5.45-linux2.6-x86_64.tar.gz /usr/local/</code></p> <p>2.解压缩，例如：<code>tar xvf mysql-5.5.45-linux2.6-x86_64.tar.gz</code></p> <p>3.建立软连接，例如：<code>ln -s mysql-5.5.45-linux2.6-x86_64 mysql</code></p> <p>4.编辑系统文件，<code>vim /etc/profile</code>，添加内容如下</p> <pre><code>  export MYSQL_HOME=/usr/local/mysql
  export PATH=$PATH:$MYSQL_HOME/bin
</code></pre> <p>5.使文件生效，<code>source /etc/profile</code></p> <p>6.编辑mysql配置文件，文件目录<code>/etc/my.cnf</code>，其中有些重要属性，</p> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>      datadir 这个是数据库存储目录
      log 这个是日志目录
      pid-file 进程号存储目录
      socket 登陆需要的信息存储位置
      server-id 用于在一台服务器启动多个mysql实例的服务号，不能重复
      binlog-ignore-db 主从同步属性，配置到主mysql属性中，binlog不需要同步的数据库名称
      binlog-do-db 主从同步属性，配置到主mysql属性9中，binlog需要同步的数据库名称
      replicate-ignore-db 主从同步属性，配置到从mysql属性中，binlog不需要同步的数据库名称   
      replicate-do-db 主从同步属性，配置到从mysql属性中，binlog需要同步的数据库名称
      log-error 启动错误日志位置
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>7.安装初始化库，在script目录下执行：<code>./mysql_install_db --user=root --basedir=/usr/local/mysql --datadir=/data/mysql/master</code></p> <p>8.启动mysql主从服务，<code>mysqld_multi start 1</code> 和 <code>mysqld_multi start 2</code>，其中1，2是配置中的server-id</p> <p>9.分别登陆mysql, <code>mysql -h 127.0.0.1 -uroot</code>,<code>mysql -S /tmp/mysql.sock1</code>， -S的内容是配置中的socket</p> <p>10.设置登陆权限，<code>grant all PRIVILEGES on *.* to root@'%' identified by 'root123'</code>; //外网连接密码</p> <p>11.刷新权限，<code>flush privileges</code>;</p> <p>12.关闭数据库，<code>mysqld_multi stop 1</code>，在<code>/etc/my.cnf</code>中把<code>/etc/my.cnf</code>下注掉的#user和#password打开。//内网连接</p> <p>13.启动数据库，<code>mysqld_multi start 1</code>，执行<code>mysqladmin -u root password Queke123 -S /tmp/mysql.sock1</code>，注意这些密码必须是一样的。</p> <p>14.本地登陆mysql命令改为，<code>mysql -uroot -pQueke123 -S /tmp/mysql.sock1</code>,安装完毕。下面是主从的配置，可以不看。</p> <p>15.登陆主mysql设置主从同步账号，<code>GRANT REPLICATION SLAVE ON *.* TO 'backup'@'localhost' IDENTIFIED BY 'backup123'</code></p> <p>16.在主mysql中查询binlog信息，<code>show master status</code>，其中File属性就是binlog名称，Position是需要开始同步位置，这两个属性是需要记住的</p> <p>17.登陆从mysql关闭从同步，stop slave</p> <p>18.在从mysql中配置从同步信息，<code>change master to master_host='127.0.0.1', master_user='backup', master_password='backup123'</code>,
<code>master_log_file='mysql-bin.000005', master_log_pos=142</code>，其中master_log_file和master_log_pos就是主mysql查到的binlog信息</p> <p>19.在从mysql开启从同步，start slave</p> <p>20.关闭数据库命令，<code>mysqld_multi stop 1</code> 和 <code>mysqld_multi stop 2</code></p> <p>21.mysql备份，通过crontab -e</p> <pre><code> 输入0 0 * * * /usr/local/shell/mysql-backup.sh &gt;&gt; /data/mysql_backup/mylog.log 2&gt;&amp;1
 脚本是mysql-backup.sh 
</code></pre> <p>给脚本执行权限：cdh</p> <p>22.slave_skip_errors = 1062 同步的时候跳过主键冲突的错误</p> <p>//安装完成后注意事项</p> <p>1.mysql -uroot -pQueke123 -S /tmp/mysql.sock1 为本机登录  Queke123是登录密码</p> <p>2./etc/my.cnf 下的password 为外网连接密码</p> <p>3.修改外网密码连接方式</p> <p>1.本机登录</p> <p>2.mysql&gt;use mysql;</p> <p>mysql&gt; update user set password=passworD(&quot;test&quot;) where user='root';</p> <p>mysql&gt; flush privileges;</p> <p>mysql&gt; exit;</p> <p>//数据库连接错误处理</p> <p>MySql Host is blocked because of many connection errors; unblock with 'mysqladmin flush-hosts' 解决方法</p> <p>mysqladmin --socket=/tmp/mysql.sock1 --port=3306 -uroot -p flush-hosts</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/ALiSang-Mr.github.io/Linux/Log.html">Linux 日志</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ALiSang-Mr.github.io/assets/js/app.4e173ec1.js" defer></script><script src="/ALiSang-Mr.github.io/assets/js/2.728c3c36.js" defer></script><script src="/ALiSang-Mr.github.io/assets/js/45.beea6627.js" defer></script>
  </body>
</html>
